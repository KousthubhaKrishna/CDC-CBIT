(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b2204"],{"237d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"primary",dark:""}},"v-btn",i,!1),s),[e._v(" Register ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Registration Form")])]),a("v-form",{ref:"form"},[a("v-card-text",[a("v-container",[a("v-row",[e._l(e.snapData.fields,(function(t,s){return a("v-col",{key:s,attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t,rules:[e.rules.required],disabled:""},model:{value:e.fields_set[t],callback:function(a){e.$set(e.fields_set,t,a)},expression:"fields_set[field]"}})],1)})),e._l(e.snapData.extra_fields,(function(t,s){return a("v-col",{key:s,attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t,rules:[e.rules.required]},model:{value:e.extra_fields[t],callback:function(a){e.$set(e.extra_fields,t,a)},expression:"extra_fields[k]"}})],1)}))],2)],1),a("small",[e._v("*indicates required field")]),e.error.length>0?a("v-alert",{attrs:{dense:"",outlined:"",text:"",type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDialog}},[e._v(" Close ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.register}},[e._v(" Save ")])],1)],1)],1)],1)],1)},i=[],l=(a("4160"),a("ac1f"),a("5319"),a("1276"),a("159b"),a("5530")),n=a("bc3a"),o=a.n(n),r={name:"Register",data:function(){return{dialog:!1,isActive:!0,menu:!1,snapData:"",fields_set:{},fields:{},extra_fields:{},user:{},error:"",rules:{required:function(e){return!!e||" "},number:function(e){return/^\d+$/.test(e)||"This field only accept numbers"}}}},created:function(){var e=window.$cookies.get("jwt"),t=JSON.parse(atob(e.split(".")[1]));this.user=t,this.getSnapData(),this.getStudentData(),this.isAlreadyRegistered()},methods:{initialiseFields:function(){var e=this;this.snapData.fields.forEach((function(t){e.fields[t]=e.fields_set[t]})),console.log(this.fields)},initialiseExtraFields:function(){var e=this;this.snapData.extra_fields.forEach((function(t){e.extra_fields[t]=""})),console.log(this.extra_fields)},isAlreadyRegistered:function(){console.log(this.snapData.data["user_email"].has(this.user.user_email)),this.snapData.data["user_email"].has(this.user.user_email)&&(this.isActive=!1)},save:function(e){this.$refs.menu.save(e),console.log(this.snapData.last_date)},closeDialog:function(){this.dialog=!1,this.error=""},getField:function(e){return e=e.replace(/ /g,"_").toLowerCase(),e},getSnapData:function(){var e=this;o.a.get("/api/placements/register/"+this.$route.params.id).then((function(t){null==t.data&&(e.isActive=!1),e.snapData=t.data,e.initialiseExtraFields()})).catch((function(e){console.log(e)}))},getStudentData:function(){var e=this;o.a.get("/api/students/myProfile").then((function(t){e.fields_set["First Name"]=t.data.basic_info.first_name,e.fields_set["Last Name"]=t.data.basic_info.last_name,e.fields_set["Full Name"]=t.data.basic_info.full_name,e.fields_set["Roll Number"]=t.data.basic_info.roll_number,e.fields_set["Branch"]=t.data.basic_info.branch,e.fields_set["Section"]=t.data.basic_info.section,e.fields_set["Placement Batch"]=t.data.basic_info.placement_batch,e.fields_set["Primary Email"]=t.data.contact_info.primary_email,e.fields_set["Secondary Email"]=t.data.contact_info.secondary_email,e.fields_set["Mobile"]=t.data.contact_info.mobile,e.fields_set["Secondary Mobile"]=t.data.contact_info.secondary_mobile,e.fields_set["CGPA"]=t.data.education.cgpa,e.fields_set["Backlogs"]=t.data.education.backlogs,e.fields_set["College"]=t.data.education.inter_or_diploma_college,e.fields_set["Inter Percentage"]=t.data.education.inter_or_diploma_percentage,e.fields_set["School"]=t.data.education.school,e.fields_set["School Percentage"]=t.data.education.school_percentage,e.fields_set["Eamcet Rank"]=t.data.education.eamcet_rank,e.fields_set["Jee Mains Rank"]=t.data.education.jee_rank,e.fields_set["Parent Name"]=t.data.personal_info.parent_name,e.fields_set["Address"]=t.data.personal_info.address,e.fields_set["City"]=t.data.personal_info.city,e.fields_set["State"]=t.data.personal_info.state,e.fields_set["Zipcode"]=t.data.personal_info.zipcode,e.fields_set["Gender"]=t.data.personal_info.gender,e.fields_set["Date of Birth"]=t.data.personal_info.date_of_birth,e.fields_set["Photo Url"]=t.data.photo_url,e.fields_set["Resume Url"]=t.data.resume_url})).catch((function(e){console.log(e)}))},register:function(){console.log(this.extra_fields),this.initialiseFields();var e=this.$refs.form.validate(!0);console.log(e),e?(this.dialog=!1,this.fields["user_email"]=this.user.user_email,o.a.patch("/api/snaps/add_data/"+this.$route.params.id,Object(l["a"])(Object(l["a"])({},this.fields),this.extra_fields)).then((function(e){console.log("registered successfully",e.data)})).catch((function(e){console.log(e)}))):this.error="Fill all the required Fields"}}},d=r,c=a("2877"),f=a("6544"),_=a.n(f),u=a("0798"),h=a("8336"),p=a("b0af"),m=a("99d9"),g=a("62ad"),v=a("a523"),b=a("169a"),x=a("4bd4"),k=a("0fd9"),y=a("2fa4"),D=a("8654"),S=Object(c["a"])(d,s,i,!1,null,null,null);t["default"]=S.exports;_()(S,{VAlert:u["a"],VBtn:h["a"],VCard:p["a"],VCardActions:m["a"],VCardText:m["c"],VCardTitle:m["d"],VCol:g["a"],VContainer:v["a"],VDialog:b["a"],VForm:x["a"],VRow:k["a"],VSpacer:y["a"],VTextField:D["a"]})}}]);
//# sourceMappingURL=chunk-2d0b2204.9b7a7e24.js.map